
<mat-sidenav-container id="sidenav-container"  class="sidenav-container">
  <mat-sidenav #drawer id="sidenavbar" class="sidenav" fixedInViewport
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'"
      [opened]="(isHandset$ | async) === false">
    <mat-toolbar>Menu <mat-icon class="mat-icon d-flex ml-auto p-1">menu</mat-icon> </mat-toolbar>
    <mat-nav-list>
      <a mat-list-item routerLink="/home">Dashboard  <mat-icon class="mat-icon d-flex ml-auto p-1">dashboard</mat-icon> </a>

      <a mat-list-item routerLink="/stock">Stock  <mat-icon class="mat-icon d-flex ml-auto p-1">bookmark_border</mat-icon> </a>
      <a mat-list-item routerLink="/commande">Commande   <mat-icon class="mat-icon d-flex ml-auto p-1">shop_two</mat-icon></a>
      <a mat-list-item routerLink="/profile">Profile  	<mat-icon class="mat-icon d-flex ml-auto p-1">perm_identity</mat-icon> </a>
      <a mat-list-item routerLink="/date"> Scheduler <mat-icon class="mat-icon d-flex ml-auto p-1">date_range</mat-icon> </a>
      <!-- <a mat-list-item routerLink="/pdp"> PDP <mat-icon class="mat-icon d-flex ml-auto p-1">date_range</mat-icon> </a> -->
       
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content id="sidenvar-content">
    <mat-toolbar id="toolbar" color="primary">
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        *ngIf="isHandset$ | async">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <span>ZODIAC MARINE</span>
      <span class="example-spacer"></span>
      <button mat-button routerLink="#"><mat-icon>logout</mat-icon></button>
    </mat-toolbar> 
    <div class="col-md-12">
      <br>
       <mat-card-title class="mr-auto p-3 ml-3">
           Les commandes
      </mat-card-title>
     <div class="flex flex-row flex-wrap card-container">
       <div class="col-6">
         <mat-card class="card-statics">
           <div class="statics">
             <h2 class="card-title"> Total des commandes
               <mat-icon class="d-flex ml-auto p-0">trending_up</mat-icon> 
               <span> {{this.totalAnnee}} </span></h2>
               <hr>
          <p class="text-center totalCmd"> <b>Stock√©es</b></p> 
           </div>
  
         </mat-card>  
       </div>
       <div class="col-6">
         <mat-card class="card-statics">
           <div class="statics">
             <h2 class="card-title">  Total Commandes 
               <mat-icon class="d-flex ml-auto p-0">trending_up</mat-icon> 
               <span > {{this.totalAnneem}} </span></h2> 
               <hr>
          <p class="month" class="text-center totalCmd"> <b>En 2022</b></p>  
           </div>
         </mat-card>
       </div>
       
     </div>
    </div>
  <br>

     <!-- <div class="col-12">
      <mat-card>
        <mat-card-content>
          <br>
         <mat-card-title class="text-center">La Liste  des commandes   </mat-card-title>
         <br>
          <div class="mat-elevation-z-8">
            <table  class="table table-responsive" width="100%">
              <thead class="table-head">
                <tr class="flex justify-content-between ml-7">
                  <th class="col-md-3" >Item Number</th>
                  <th class="col-md-3">Item Name</th>
                  <th class="col-md-3">Calendar Year </th>
                  <th class="col-md-3">Planning Date</th>
                  <th class="col-md-3">Order Number </th>
                  <th class="col-md-3">Customer Name</th>
                </tr>
              </thead>
              <tbody  class="tbody">
                  <tr class="flex justify-content-between ml-7"
                   *ngFor="let cmd of Commandes  | slice: pageSize | slice: 0:itemsPerPage">
                  <td class="col-md-3">{{cmd?.item_number}}</td>
                  <td class="col-md-3">{{cmd?.item_name}}</td>
                   <td class="col-md-3">{{cmd?.calendar_year}}</td>
                  <td class="col-md-3">{{cmd?.planning_date | date : 'shortDate'}}</td>
                  <td class="col-md-3">{{cmd?.order_number}}</td>
                  <td class="col-md-3">{{cmd?.customer_name}}</td>
                </tr>    
              </tbody>
              <div class="paginator-table flex row justify-content-center" id="paginator-table">
               <mat-paginator [length]="Commandes?.length" [pageSize]="itemsPerPage" [pageSizeOptions]="pageSizeOptions"
               (page)="handlePageEvent($event)" aria-label="Select page">
               </mat-paginator>
              </div>
       
            </table>
          </div>
          <br>
        </mat-card-content>
      </mat-card>
     </div> -->


     <div class="container">

      <div class="search-container">
        <mat-form-field appearance="fill">
          <input matInput placeholder="search"  autocomplete="off" (keyup)='filterData($event)' />
        </mat-form-field>
      </div>

    <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8">
       <ng-container  matColumnDef="item_number">
         <th mat-header-cell  mat-sort-header *matHeaderCellDef> Item Number  </th>
         <td mat-cell *matCellDef="let element"> {{element.item_number}} </td>
       </ng-container>
       <ng-container matColumnDef="item_name">
         <th mat-header-cell  mat-sort-header  *matHeaderCellDef> Item Name </th>
         <td mat-cell *matCellDef="let element"> {{element.item_name}} </td>
       </ng-container>
       <ng-container matColumnDef="besoin">
         <th mat-header-cell  mat-sort-header *matHeaderCellDef> Besoin </th>
         <td mat-cell *matCellDef="let element"> {{element.besoin}} </td>
       </ng-container>
       <ng-container matColumnDef="calendar_year">
         <th mat-header-cell  mat-sort-header *matHeaderCellDef> Calendar Year </th>
         <td mat-cell *matCellDef="let element"> {{element.calendar_year}} </td>
       </ng-container>
       <ng-container matColumnDef="planning_date">
        <th mat-header-cell  mat-sort-header *matHeaderCellDef> Planning Date</th>
        <td mat-cell *matCellDef="let element"> {{element.planning_date |date: 'shortDate'}} </td>
      </ng-container>
      <ng-container matColumnDef="status_order">
        <th mat-header-cell  mat-sort-header *matHeaderCellDef> Status Order</th>
        <td mat-cell *matCellDef="let element"> {{element.status_order}} </td>
      </ng-container>
      <ng-container matColumnDef="order_number">
        <th mat-header-cell  mat-sort-header *matHeaderCellDef> Order Number</th>
        <td mat-cell *matCellDef="let element"> {{element.order_number}} </td>
      </ng-container>
      <ng-container matColumnDef="customer_name">
        <th mat-header-cell  mat-sort-header *matHeaderCellDef> Customer Name</th>
        <td mat-cell *matCellDef="let element"> {{element.customer_name}} </td>
      </ng-container>
       <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
       <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

     </table>
     <mat-paginator #paginator
     [pageSize]="10"
     [pageSizeOptions]="[5, 10, 20, 30]">
     </mat-paginator>
    </div>
    <br>
    </mat-sidenav-content>
    </mat-sidenav-container>
